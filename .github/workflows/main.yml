name: One Line Errors

on: [push]

jobs:
  oneline:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-java@v4
      with:
        java-version: '17'
        distribution: 'temurin'
        
    - name: Find Exact Error Files
      run: |
        chmod +x ./gradlew
        ./gradlew clean assembleDebug --no-daemon 2>&1 | \
        grep -E "error:.*\.(java|kt|xml):" | \
        awk -F: '{print $1 " -> Line " $2 ": " $3}' | \
        head -10
